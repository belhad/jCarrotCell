<!DOCTYPE html>
<html lang="en">

<head> 
    <meta charset="utf-8" /> 
	<title>jCarrotCell Demo: Using the API</title>
	<!--[if lt IE 9]>
	<script src="http//html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
 	<script src="js/jquery-touchwipe.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/jCarrotCell.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/rainbow-custom.min.js" type="text/javascript" charset="utf-8"></script>
	
	<script type="text/javascript" charset="utf-8">
	$(document).ready(function(){
		window.carrotDemos = window.carrotDemos || {};
		carrotDemos.setup = function() {
			var kitten = $("#insertKitten").carrotCell({
				scrollToInserted : true,
				// auto: true
				infinite: true
			});
			var kittenAPI = $(kitten).data("carrotCell");
			
			var count = 0;
			var howManyPages = kittenAPI.getPageCount();
			
			$("#insertKittenAction").bind("click", function(e){
				e.preventDefault();
				
				var myIndex = parseInt($("#insertKittenValue").val());
				count++;
				$("#insertKittenCount").html(count);
				kittenAPI.insert('<li><span>insert ' + count + '</span><img src="images/cat07.png" /></li>', myIndex); 
			});

		}
		
		// chrome can not calculate the width correctly because it is foolish
		var is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
		if (is_chrome) {
			$(window).load(function(){ carrotDemos.setup(); });
		} else {
			carrotDemos.setup();
		}
		
	});
	</script>
	
	<link type="text/css" href="css/main.css" rel="stylesheet" /> 
	<link type="text/css" href="css/carrotcell.css" rel="stylesheet" /> 
	<link type="text/css" href="css/carrotSkin.css" rel="stylesheet" /> 

</head>

<body>

		<div class="example">
			<div id="insertKitten" class="carrotCell kitten">			
				<div class="carrotCellView">
					<ol>
						<li><span>1</span><img src="images/cat01.png" /></li>
						<li><span>2</span><img src="images/cat02.png" /></li>
						<li><span>3</span><img src="images/cat03.png" /></li>
						<li><span>4</span><img src="images/cat04.png" /></li>
						<li><span>5</span><img src="images/cat05.png" /></li>
						<li><span>6</span><img src="images/cat06.png" /></li>
						<li><span>7</span><img src="images/cat07.png" /></li>
						<li><span>8</span><img src="images/cat08.png" /></li>
						<li><span>9</span><img src="images/cat09.png" /></li>
			        </ol>       
				</div>			
				<div class="prev">prev</div>
				<div class="next">next</div> 
			</div>
			<button id="insertKittenAction" class="result">Insert Item</button>
			<div class="result">
				<span>at index</span>
				<input id="insertKittenValue" type="text" name="kittenValue"/>
				<span>on inserted item</span>
				<span id="insertKittenCount"></span>
			</div>
		</div>


</body>
</html>